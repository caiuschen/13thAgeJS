<!DOCTYPE HTML>
<html data-ng-app="characterBuilderApp">
  <head>
    <title>13th Age Character Builder</title>
    <meta charset="utf-8"/>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.3/angular.min.js"></script>
    <script src="js/controllers.js"></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/application.css">
  </head>
  <body data-ng-controller="CharacterBuilderCtrl">

    <h1 class="titleBar">13th Age Character Builder</h1>

    <ol class="tabSelection">
        <li class="tabSelection-tab" data-ng-class="{ 'tabSelection-tab-isActive' : currentContentPane === 'race'}" data-ng-click="setCurrentContentPane('race')">Race</li>
        <li class="tabSelection-tab" data-ng-class="{ 'tabSelection-tab-isActive' : currentContentPane === 'class'}" data-ng-click="setCurrentContentPane('class')">Class</li>
        <li class="tabSelection-tab" data-ng-class="{ 'tabSelection-tab-isActive' : currentContentPane === 'abilities'}" data-ng-click="setCurrentContentPane('abilities')">Abilities</li>
        <li class="tabSelection-tab">One Unique Thing</li>
        <li class="tabSelection-tab">Icon Relationships</li>
        <li class="tabSelection-tab">Backgrounds</li>
        <li class="tabSelection-tab">Feats</li>
        <li class="tabSelection-tab">Gear</li>
    </ol>

    <div class="mainContent">
      <fieldset data-ng-show="currentContentPane === 'race'" class="contentPane">
        <legend>Racial Options</legend>
        <label>Race<select data-ng-model="character.raceSelection.name" data-ng-options="raceName as raceName for (raceName, raceObject) in races"></select></label>
        <label>Ability Adjustment<select data-ng-model="character.raceSelection.chosenAbilityAdjustment"
            data-ng-options="abilityOption for abilityOption in races[character.raceSelection.name].abilityOptions"></select></label>
      </fieldset>
      <div data-ng-show="currentContentPane === 'class'" class="contentPane">
        <label>Class<select data-ng-model="character.classSelection.name" data-ng-options="clazz.name as clazz.name for clazz in classes"></select></label>
      </div>
      <div data-ng-show="currentContentPane === 'abilities'" class="contentPane">
        <h2>Abilities</h2>
        <div>Points remaining: {{ abilityPointsRemaining() }}</div>
        <div>AC Bonus: {{ acBonusFromAbilities() }}</div>
        <div>PD Bonus: {{ pdBonusFromAbilities() }}</div>
        <div>MD Bonus: {{ mdBonusFromAbilities() }}</div>
        <label>Strength     <select data-ng-model="character.baseAbilities.strength"     data-ng-options="score for score in abilityScoreOptions"></select></label>
        <label>Constitution <select data-ng-model="character.baseAbilities.constitution" data-ng-options="score for score in abilityScoreOptions"></select></label>
        <label>Dexterity    <select data-ng-model="character.baseAbilities.dexterity"    data-ng-options="score for score in abilityScoreOptions"></select></label>
        <label>Intelligence <select data-ng-model="character.baseAbilities.intelligence" data-ng-options="score for score in abilityScoreOptions"></select></label>
        <label>Wisdom       <select data-ng-model="character.baseAbilities.wisdom"       data-ng-options="score for score in abilityScoreOptions"></select></label>
        <label>Charisma     <select data-ng-model="character.baseAbilities.charisma"     data-ng-options="score for score in abilityScoreOptions"></select></label>
      </div>
      <div data-ng-show="currentContentPane === 'name'" class="contentPane">
        <label>Character name<input type="text" data-ng-model="character.characterName" placeholder="Character name&hellip;"></label>
        <label>Player name<input type="text" data-ng-model="character.playerName"></label>
      </div>
      <div data-ng-show="currentContentPane === 'oneUniqueThing'" class="contentPane">
        <label>One Unique Thing<textarea data-ng-model="character.oneUniqueThing"></textarea></label>
      </div>
    </div>

    <div class="preview">
      <div class="preview-inner">
          <pre>{{ characterToString() }}</pre>
      </div>
    </div>
    <div class="loadAndSave">
      <label>Load character <input type="file" id="files" name="files[]" data-on-read-file="loadCharacter($fileContent)" /></label>
      <button type="button" data-ng-click="saveCharacter()">Save Character</button>
    </div>
  </body>
</html>

